<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EAP Analyzer - Dashboard –ü—Ä–æ–≥—Ä–µ—Å—Å–∞</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="css/styles.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="#">
          <i class="bi bi-bar-chart-line"></i>
          EAP Analyzer Dashboard
        </a>
        <div class="navbar-nav ms-auto d-flex flex-row align-items-center">
          <!-- Live Update Button -->
          <button
            id="live-update-btn"
            class="btn btn-outline-light btn-sm me-3"
            onclick="dashboard.refreshLiveData()"
            title="–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ live-–æ—Ç—á–µ—Ç–∞"
          >
            <i class="bi bi-arrow-clockwise"></i>
            <span class="d-none d-md-inline">Live Update</span>
          </button>

          <span class="navbar-text me-3">
            <small class="text-muted">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç:</small>
            <code
              class="bg-dark text-warning px-2 py-1 rounded ms-1"
              style="cursor: pointer; user-select: all"
              onclick="copyToClipboard('node live-generator.cjs')"
              title="–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É"
            >
              node live-generator.cjs
            </code>
          </span>
          <span class="navbar-text">
            <i class="bi bi-calendar3"></i>
            <span id="last-update">11.09.2025</span>
          </span>
        </div>
      </div>
    </nav>

    <!-- Controls -->
    <div class="container-fluid mt-3">
      <!-- Classification Section - Main Filter -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card border-primary">
            <div
              class="card-header bg-primary bg-opacity-10 d-flex justify-content-between align-items-center"
            >
              <h5 class="mb-0 text-primary">
                <i class="bi bi-diagram-3"></i>
                –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
              </h5>
              <div class="form-check form-switch">
                <input
                  class="form-check-input"
                  type="checkbox"
                  role="switch"
                  id="analyzers-only-filter"
                />
                <label class="form-check-label fw-semibold" for="analyzers-only-filter">
                  –¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã
                </label>
              </div>
            </div>
            <div class="card-body">
              <div class="alert alert-info mb-3" role="alert">
                <i class="bi bi-info-circle"></i>
                <strong>–ì–ª–∞–≤–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä:</strong> –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ –≤—Å–µ—Ö
                —Ä–∞–∑–¥–µ–ª–∞—Ö –Ω–∏–∂–µ
              </div>
              <div class="row">
                <!-- Analyzers Column -->
                <div class="col-md-4">
                  <div
                    class="border rounded p-3 h-100"
                    style="
                      border-color: #28a745 !important;
                      background-color: rgba(40, 167, 69, 0.05);
                    "
                  >
                    <div class="d-flex align-items-center mb-3">
                      <div
                        class="bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-3"
                        style="width: 40px; height: 40px"
                      >
                        <i class="bi bi-search"></i>
                      </div>
                      <div>
                        <h6 class="mb-0 text-success">–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã</h6>
                        <small class="text-muted">–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã</small>
                      </div>
                    </div>
                    <div class="text-center mb-3">
                      <h2 class="text-success mb-0" id="analyzers-count">241</h2>
                      <small class="text-muted">–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</small>
                    </div>
                    <div class="small text-muted">
                      <div class="mb-1">‚Ä¢ Analyzers, Checkers, Evaluators</div>
                      <div class="mb-1">‚Ä¢ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ—Å—Ç–æ–≤</div>
                      <div>‚Ä¢ –ê–¥–∞–ø—Ç–µ—Ä—ã –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</div>
                    </div>
                  </div>
                </div>

                <!-- Auxiliary Column -->
                <div class="col-md-4">
                  <div
                    class="border rounded p-3 h-100"
                    style="
                      border-color: #6c757d !important;
                      background-color: rgba(108, 117, 125, 0.05);
                    "
                  >
                    <div class="d-flex align-items-center mb-3">
                      <div
                        class="bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center me-3"
                        style="width: 40px; height: 40px"
                      >
                        <i class="bi bi-tools"></i>
                      </div>
                      <div>
                        <h6 class="mb-0 text-secondary">–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ</h6>
                        <small class="text-muted">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</small>
                      </div>
                    </div>
                    <div class="text-center mb-3">
                      <h2 class="text-secondary mb-0" id="auxiliary-count">114</h2>
                      <small class="text-muted">–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</small>
                    </div>
                    <div class="small text-muted">
                      <div class="mb-1">‚Ä¢ –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã</div>
                      <div class="mb-1">‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –æ—Ç—á–µ—Ç–æ–≤</div>
                      <div>‚Ä¢ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–æ–¥—É–ª–∏</div>
                    </div>
                  </div>
                </div>

                <!-- Other Column -->
                <div class="col-md-4">
                  <div
                    class="border rounded p-3 h-100"
                    style="
                      border-color: #6c757d !important;
                      background-color: rgba(108, 117, 125, 0.05);
                    "
                  >
                    <div class="d-flex align-items-center mb-3">
                      <div
                        class="bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center me-3"
                        style="width: 40px; height: 40px"
                      >
                        <i class="bi bi-file-text"></i>
                      </div>
                      <div>
                        <h6 class="mb-0" style="color: #495057">–û—Å—Ç–∞–ª—å–Ω–æ–µ</h6>
                        <small class="text-muted">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥–∏</small>
                      </div>
                    </div>
                    <div class="text-center mb-3">
                      <h2 class="mb-0" style="color: #495057" id="tests-count">0</h2>
                      <small class="text-muted">—Ñ–∞–π–ª–æ–≤</small>
                    </div>
                    <div class="small text-muted">
                      <div class="mb-1">‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (.md)</div>
                      <div class="mb-1">‚Ä¢ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</div>
                      <div>‚Ä¢ –ü—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –§–∏–ª—å—Ç—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header bg-light">
              <h6 class="mb-0">
                <i class="bi bi-funnel"></i> –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                <small class="text-muted">(<span id="category-count">12</span> –∫–∞—Ç–µ–≥–æ—Ä–∏–π)</small>
              </h6>
            </div>
            <div class="card-body p-3">
              <div class="d-flex gap-2 flex-wrap" id="category-filters">
                <button
                  class="btn btn-primary active"
                  data-category="all"
                  title="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã"
                >
                  <i class="bi bi-grid-3x3-gap"></i> –í—Å–µ
                </button>
                <button
                  class="btn btn-outline-success"
                  data-category="testing"
                  title="–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞"
                >
                  <i class="bi bi-check-circle"></i> Testing
                </button>
                <button
                  class="btn btn-outline-danger"
                  data-category="security"
                  title="–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–Ω–∞–ª–∏–∑ —É–≥—Ä–æ–∑"
                >
                  <i class="bi bi-shield-check"></i> Security
                </button>
                <button
                  class="btn btn-outline-warning"
                  data-category="performance"
                  title="–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"
                >
                  <i class="bi bi-speedometer2"></i> Performance
                </button>
                <button
                  class="btn btn-outline-info"
                  data-category="docker"
                  title="–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ"
                >
                  <i class="bi bi-box"></i> Docker
                </button>
                <button
                  class="btn btn-outline-secondary"
                  data-category="dependencies"
                  title="–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"
                >
                  <i class="bi bi-layers"></i> Dependencies
                </button>
                <button
                  class="btn btn-outline-primary"
                  data-category="logging"
                  title="–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"
                >
                  <i class="bi bi-file-text"></i> Logging
                </button>
                <button
                  class="btn btn-outline-success"
                  data-category="cicd"
                  title="–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è"
                >
                  <i class="bi bi-arrow-repeat"></i> CI/CD
                </button>
                <button
                  class="btn btn-outline-dark"
                  data-category="codequality"
                  title="–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞"
                >
                  <i class="bi bi-code-slash"></i> Code Quality
                </button>
                <button class="btn btn-outline-secondary" data-category="core" title="–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã">
                  <i class="bi bi-gear"></i> Core
                </button>
                <button
                  class="btn btn-outline-danger"
                  data-category="ai"
                  title="–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç"
                >
                  <i class="bi bi-robot"></i> AI
                </button>
                <button
                  class="btn btn-outline-primary"
                  data-category="architecture"
                  title="–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"
                >
                  <i class="bi bi-diagram-3"></i> Architecture
                </button>
                <button
                  class="btn btn-outline-secondary"
                  data-category="utils"
                  title="–£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏"
                >
                  <i class="bi bi-tools"></i> Utils
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary Cards & Controls -->
      <div class="row mb-4 align-items-end">
        <!-- Summary Cards -->
        <div class="col-lg-2 col-md-4 mb-3">
          <div class="card h-100 border-success">
            <div class="card-body text-center py-1">
              <i class="bi bi-collection text-success fs-4"></i>
              <h6 class="text-success mb-0" id="total-components">60+</h6>
              <small class="card-text text-muted">–í—Å–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</small>
            </div>
          </div>
        </div>
        <div class="col-lg-2 col-md-4 mb-3">
          <div class="card h-100 border-primary">
            <div class="card-body text-center py-1">
              <i class="bi bi-graph-up-arrow text-primary fs-4"></i>
              <h6 class="text-primary mb-0" id="avg-logic">79.2%</h6>
              <small class="card-text text-muted">–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ª–æ–≥–∏–∫–∏</small>
            </div>
          </div>
        </div>
        <div class="col-lg-2 col-md-4 mb-3">
          <div class="card h-100 border-info">
            <div class="card-body text-center py-1">
              <i class="bi bi-gear text-info fs-4"></i>
              <h6 class="text-info mb-0" id="avg-functionality">74.8%</h6>
              <small class="card-text text-muted">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</small>
            </div>
          </div>
        </div>
        <!-- File Upload -->
        <div class="col-lg-6 col-md-12 mb-3">
          <div class="d-flex gap-3 align-items-center">
            <span class="text-muted fw-semibold">–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤:</span>
            <div class="input-group flex-grow-1">
              <span class="input-group-text">
                <i class="bi bi-upload"></i>
              </span>
              <input
                type="file"
                class="form-control"
                id="report-upload"
                accept=".md,.markdown"
                multiple
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="row">
        <!-- Category Overview -->
        <div class="col-xl-8 mb-4">
          <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0">
                <i class="bi bi-bar-chart"></i>
                –û–±–∑–æ—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
              </h5>
              <div class="btn-group btn-group-sm" role="group">
                <input type="radio" class="btn-check" name="chart-type" id="line-chart" checked />
                <label class="btn btn-outline-secondary" for="line-chart">
                  <i class="bi bi-graph-up"></i>
                </label>
                <input type="radio" class="btn-check" name="chart-type" id="bar-chart" />
                <label class="btn btn-outline-secondary" for="bar-chart">
                  <i class="bi bi-bar-chart"></i>
                </label>
              </div>
            </div>
            <div class="card-body">
              <canvas id="categories-chart" height="300"></canvas>
            </div>
          </div>
        </div>

        <!-- Right Sidebar with Top/Bottom Components -->
        <div class="col-xl-4 mb-4">
          <div class="row">
            <!-- Top Components -->
            <div class="col-6">
              <div class="card h-100">
                <div class="card-header bg-success text-white py-2">
                  <h6 class="mb-0 small">
                    <i class="bi bi-award"></i>
                    üèÜ –¢–æ–ø-10
                  </h6>
                </div>
                <div class="card-body py-2" style="max-height: 400px; overflow-y: auto">
                  <div id="top-components-list">
                    <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JavaScript -->
                  </div>
                </div>
              </div>
            </div>

            <!-- Bottom Components -->
            <div class="col-6">
              <div class="card h-100">
                <div class="card-header bg-warning text-dark py-2">
                  <h6 class="mb-0 small">
                    <i class="bi bi-exclamation-triangle"></i>
                    üîß –î–æ—Ä–∞–±–æ—Ç–∫–∞
                  </h6>
                </div>
                <div class="card-body py-2" style="max-height: 400px; overflow-y: auto">
                  <div id="bottom-components-list">
                    <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JavaScript -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Detailed Components View -->
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0">
                <i class="bi bi-list-task"></i>
                –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
                <span id="total-components-count">356</span>
                <small id="filter-status" class="text-muted ms-2"></small>
              </h5>
              <div class="btn-group btn-group-sm">
                <button class="btn btn-outline-primary" id="sort-by-name">
                  <i class="bi bi-sort-alpha-down"></i> –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é
                </button>
                <button class="btn btn-outline-success" id="sort-by-readiness">
                  <i class="bi bi-sort-numeric-down"></i> –ü–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
                </button>
                <button class="btn btn-outline-info active" id="sort-by-category">
                  <i class="bi bi-collection"></i> –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                </button>
              </div>
            </div>
            <div class="card-body p-0">
              <div class="table-responsive">
                <table class="table table-striped table-hover mb-0">
                  <thead class="table-dark sticky-top">
                    <tr>
                      <th width="20%">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                      <th width="15%">–°–∫—Ä–∏–ø—Ç</th>
                      <th width="30%">–ß—Ç–æ –¥–µ–ª–∞–µ—Ç</th>
                      <th width="12%">–õ–æ–≥–∏–∫–∞</th>
                      <th width="12%">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</th>
                      <th width="11%">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤</th>
                    </tr>
                  </thead>
                  <tbody id="components-table-body">
                    <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Progress Timeline -->
      <div class="row mt-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h5 class="mb-0">
                <i class="bi bi-clock-history"></i>
                –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ —Ä–∞–∑–≤–∏—Ç–∏—è
              </h5>
            </div>
            <div class="card-body">
              <canvas id="timeline-chart" height="200"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light text-center py-3 mt-5">
      <div class="container">
        <small class="text-muted">
          EAP Analyzer Dashboard ¬© 2025 | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
          <span id="footer-update">11.09.2025</span>
        </small>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Chart.js —Å callback –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ -->
    <script>
      // –ó–∞–≥—Ä—É–∂–∞–µ–º Chart.js –∏ –∂–¥–µ–º –µ–≥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
      const chartScript = document.createElement('script');
      chartScript.src = 'https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js';
      chartScript.crossOrigin = 'anonymous';
      chartScript.onload = function () {
        // Chart.js —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω
        if (typeof Chart !== 'undefined') {
          loadDashboardScripts();
        } else {
          console.error('‚ùå Chart –Ω–µ —Å—Ç–∞–ª –¥–æ—Å—Ç—É–ø–Ω—ã–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏');
        }
      };
      chartScript.onerror = function () {
        console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Chart.js, –ø—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±');

        // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –≤–µ—Ä—Å–∏—é
        const fallbackScript = document.createElement('script');
        fallbackScript.src = 'https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js';
        fallbackScript.onload = function () {
          // Chart.js fallback –∑–∞–≥—Ä—É–∂–µ–Ω
          if (typeof Chart !== 'undefined') {
            loadDashboardScripts();
          } else {
            console.error('‚ùå Fallback Chart.js —Ç–∞–∫–∂–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
            loadDashboardScripts(); // –∑–∞–≥—Ä—É–∂–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω–æ–µ –±–µ–∑ Chart.js
          }
        };
        fallbackScript.onerror = function () {
          console.error('‚ùå Fallback Chart.js —Ç–∞–∫–∂–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è');
          loadDashboardScripts(); // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –±–µ–∑ Chart.js
        };
        document.head.appendChild(fallbackScript);
      };
      document.head.appendChild(chartScript);

      // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ dashboard —Å–∫—Ä–∏–ø—Ç–æ–≤
      function loadDashboardScripts() {
        const timestamp = new Date().getTime();
        const scripts = [
          `data/data.js?v=${timestamp}`,
          `js/components.js?v=${timestamp}`,
          `js/parser.js?v=${timestamp}`,
          `js/charts.js?v=${timestamp}`,
          `js/dashboard.js?v=${timestamp}`,
        ];

        let loadedScripts = 0;

        scripts.forEach((src, index) => {
          const script = document.createElement('script');
          script.src = src;
          script.onload = function () {
            loadedScripts++;
            // –ú–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω
            if (loadedScripts === scripts.length) {
              initializeDashboard();
            }
          };
          script.onerror = function () {
            console.error(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${src}`);
          };
          document.head.appendChild(script);
        });
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è dashboard
      function initializeDashboard() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        if (typeof Chart === 'undefined') {
          console.error('‚ùå Chart.js –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
          return;
        }

        if (typeof EAP_DATA === 'undefined') {
          console.error('‚ùå EAP_DATA –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
          return;
        }

        if (typeof EAPDashboard === 'undefined') {
          console.error('‚ùå EAPDashboard –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
          return;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Dashboard...

        setTimeout(() => {
          try {
            const dashboard = new EAPDashboard();
            const charts = new EAPChartsManager();

            // –î–µ–ª–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ
            window.EAPCharts = charts;
            window.dashboardInstance = dashboard;

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º dashboard
            dashboard.initialize();

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é
            initializeClassification();

            // Dashboard –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
          } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Dashboard:', error);
          }
        }, 100);
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
      function initializeClassification() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏...

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
        if (typeof EAP_DATA !== 'undefined' && EAP_DATA.classification) {
          // –î–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞–π–¥–µ–Ω—ã

          const classification = EAP_DATA.classification;
          const counts = {
            analyzers: classification.stats?.analyzersCount || 0,
            auxiliary: classification.stats?.auxiliaryCount || 0,
            other: classification.stats?.otherCount || 0,
          };

          // –°—á–µ—Ç—á–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã

          // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏ –≤ UI
          const analyzersElement = document.getElementById('analyzers-count');
          const auxiliaryElement = document.getElementById('auxiliary-count');
          const testsElement = document.getElementById('tests-count');

          if (analyzersElement) analyzersElement.textContent = counts.analyzers;
          if (auxiliaryElement) auxiliaryElement.textContent = counts.auxiliary;
          if (testsElement) testsElement.textContent = counts.other;

          // –°—á–µ—Ç—á–∏–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
        } else {
          console.warn('‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ EAP_DATA');
        }

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
        if (EAP_DATA.classification) {
          window.classificationData = {
            analyzers: new Set(EAP_DATA.classification.analyzers),
            auxiliary: new Set(EAP_DATA.classification.auxiliary),
            other: new Set(EAP_DATA.classification.other),
          };
          // –î–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

          // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
          assignClassificationToComponents();
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è "–¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã"
        const filterToggle = document.getElementById('analyzers-only-filter');

        if (filterToggle) {
          // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è
          filterToggle.addEventListener('click', function (e) {
            // –ö–ª–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
          });

          filterToggle.addEventListener('input', function (e) {
            // Input —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
          });

          filterToggle.addEventListener('change', function () {
            const showOnlyAnalyzers = this.checked;

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –µ—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–±—Ä–æ—à–µ–Ω
            if (!showOnlyAnalyzers) {
              resetActiveCards();
            } else {
              // –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã, –≤—ã–¥–µ–ª—è–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
              setActiveCard('analyzer-card');
            }

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Dashboard
            if (window.dashboardInstance) {
              window.dashboardInstance.currentClassificationFilter = showOnlyAnalyzers
                ? 'analyzer'
                : 'all';
              window.dashboardInstance.renderComponentsList();
              window.dashboardInstance.updateCategoryCounters();
              window.dashboardInstance.renderTopComponents();
              window.dashboardInstance.renderBottomComponents();

              // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∏–∞–≥—Ä–∞–º–º—ã
              if (window.EAPCharts && window.EAPCharts.updateCategoriesChart) {
                window.EAPCharts.updateCategoriesChart();
              }

              // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
              if (showOnlyAnalyzers) {
                showNotification(`–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã (241 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)`, 'info');
              } else {
                showNotification('–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (356 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)', 'info');
              }
            } else {
              // –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç - –ø—Ä—è–º–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è DOM
              filterComponents(showOnlyAnalyzers);

              // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
              if (showOnlyAnalyzers) {
                showNotification(
                  `–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã (${document.getElementById('analyzers-count').textContent} –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)`,
                  'info'
                );
              } else {
                showNotification('–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã', 'info');
              }
            }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
          });
        } else {
          console.error('‚ùå –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å analyzers-only-filter –Ω–µ –Ω–∞–π–¥–µ–Ω!');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
        makeClassificationCardsClickable();
      }

      // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
      function assignClassificationToComponents() {
        if (!window.EAP_DATA?.components || !window.classificationData) return;

        Object.keys(window.EAP_DATA.components).forEach(componentName => {
          const component = window.EAP_DATA.components[componentName];

          // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
          if (window.classificationData.analyzers.has(componentName)) {
            component.classification = 'analyzer';
          } else if (window.classificationData.other.has(componentName)) {
            component.classification = 'other';
          } else {
            component.classification = 'auxiliary';
          }
        });

        // –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
      }

      // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
      function filterComponents(showOnlyAnalyzers) {
        // –ü–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        const componentRows = document.querySelectorAll(
          '#components-table-body tr[data-component-name]'
        );
        let visibleCount = 0;

        if (!window.classificationData) {
          console.warn('‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞');
          return;
        }

        componentRows.forEach(row => {
          const componentName = row.getAttribute('data-component-name');

          // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
          let componentType = 'auxiliary'; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
          if (window.classificationData.analyzers.has(componentName)) {
            componentType = 'analyzer';
          } else if (window.classificationData.other.has(componentName)) {
            componentType = 'other';
          }

          // –î–æ–±–∞–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
          row.setAttribute('data-component-classification', componentType);

          const shouldShow = !showOnlyAnalyzers || componentType === 'analyzer';

          if (shouldShow) {
            row.style.display = '';
            visibleCount++;
          } else {
            row.style.display = 'none';
          }
        });

        console.log(`üìä –û—Ç–æ–±—Ä–∞–∂–µ–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: ${visibleCount} –∏–∑ ${componentRows.length}`);

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        const totalElement = document.querySelector('#total-components-count');
        const filterStatusElement = document.querySelector('#filter-status');

        if (totalElement) {
          totalElement.textContent = visibleCount;
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
        if (filterStatusElement) {
          if (showOnlyAnalyzers) {
            filterStatusElement.textContent = '(—Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã)';
            filterStatusElement.className = 'text-success ms-2';
          } else {
            filterStatusElement.textContent = '(–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)';
            filterStatusElement.className = 'text-muted ms-2';
          }
        }
      }

      // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
      function showNotification(message, type = 'info') {
        const alertClass = type === 'info' ? 'alert-info' : 'alert-success';
        const notification = document.createElement('div');
        notification.className = `alert ${alertClass} alert-dismissible fade show position-fixed`;
        notification.style.cssText = 'top: 20px; right: 20px; z-index: 9999; max-width: 300px;';
        notification.innerHTML = `
          ${message}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;

        document.body.appendChild(notification);

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 3000);
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
      function makeClassificationCardsClickable() {
        // –ù–∞—Ö–æ–¥–∏–º –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ –∏—Ö CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º
        const analyzerCard = document.querySelector('.col-md-4:nth-child(1) .border.rounded');
        const auxiliaryCard = document.querySelector('.col-md-4:nth-child(2) .border.rounded');
        const testsCard = document.querySelector('.col-md-4:nth-child(3) .border.rounded');

        if (!analyzerCard || !auxiliaryCard || !testsCard) {
          console.error('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏');
          return;
        }

        // –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞–π–¥–µ–Ω—ã

        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –∏ ID –¥–ª—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
        const cards = [
          { element: analyzerCard, id: 'analyzer-card', filter: 'analyzer' },
          { element: auxiliaryCard, id: 'auxiliary-card', filter: 'auxiliary' },
          { element: testsCard, id: 'tests-card', filter: 'test' },
        ];

        cards.forEach(({ element, id, filter }) => {
          element.id = id;
          element.style.cursor = 'pointer';
          element.style.transition = 'all 0.2s ease';
          element.title = '–ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É —Ç–∏–ø—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤';

          // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
          element.addEventListener('mouseover', () => {
            element.style.transform = 'translateY(-3px)';
            element.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';
            element.style.opacity = '0.95';
          });

          element.addEventListener('mouseout', () => {
            if (!element.classList.contains('active-filter')) {
              element.style.transform = 'translateY(0)';
              element.style.boxShadow = 'none';
              element.style.opacity = '1';
            }
          });
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
        analyzerCard.addEventListener('click', () => {
          // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã"
          const toggle = document.getElementById('analyzers-only-filter');
          if (toggle) {
            toggle.checked = true;
            toggle.dispatchEvent(new Event('change'));
          }

          // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
          if (window.dashboardInstance) {
            window.dashboardInstance.currentClassificationFilter = 'analyzer';
            window.dashboardInstance.renderComponentsList();
            window.dashboardInstance.updateCategoryCounters();
            window.dashboardInstance.renderTopComponents();
            window.dashboardInstance.renderBottomComponents();

            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∏–∞–≥—Ä–∞–º–º—ã
            if (window.EAPCharts && window.EAPCharts.updateCategoriesChart) {
              window.EAPCharts.updateCategoriesChart();
            }
          }

          // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
          setActiveCard('analyzer-card');
          showNotification('–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã (206 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)', 'info');
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö
        auxiliaryCard.addEventListener('click', () => {
          // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã"
          const toggle = document.getElementById('analyzers-only-filter');
          if (toggle) {
            toggle.checked = false;
          }

          // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –Ω–∞ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
          if (window.dashboardInstance) {
            window.dashboardInstance.currentClassificationFilter = 'auxiliary';
            window.dashboardInstance.renderComponentsList();
            window.dashboardInstance.updateCategoryCounters();
            window.dashboardInstance.renderTopComponents();
            window.dashboardInstance.renderBottomComponents();

            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∏–∞–≥—Ä–∞–º–º—ã
            if (window.EAPCharts && window.EAPCharts.updateCategoriesChart) {
              window.EAPCharts.updateCategoriesChart();
            }
          }

          // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
          setActiveCard('auxiliary-card');
          showNotification(
            '–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (76 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)',
            'info'
          );
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö
        testsCard.addEventListener('click', () => {
          // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã"
          const toggle = document.getElementById('analyzers-only-filter');
          if (toggle) {
            toggle.checked = false;
          }

          // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
          if (window.dashboardInstance) {
            window.dashboardInstance.currentClassificationFilter = 'other';
            window.dashboardInstance.renderComponentsList();
            window.dashboardInstance.updateCategoryCounters();
            window.dashboardInstance.renderTopComponents();
            window.dashboardInstance.renderBottomComponents();

            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∏–∞–≥—Ä–∞–º–º—ã
            if (window.EAPCharts && window.EAPCharts.updateCategoriesChart) {
              window.EAPCharts.updateCategoriesChart();
            }
          }

          // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
          setActiveCard('tests-card');
          showNotification('–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (74 —Ñ–∞–π–ª–∞)', 'info');
        });

        // –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞–ª–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
      function setActiveCard(activeCardId) {
        const cards = ['analyzer-card', 'auxiliary-card', 'tests-card'];

        cards.forEach(cardId => {
          const card = document.getElementById(cardId);
          if (card) {
            if (cardId === activeCardId) {
              card.classList.add('active-filter');
              card.style.transform = 'translateY(-3px)';
              card.style.boxShadow = '0 8px 25px rgba(0,0,0,0.2)';
              card.style.opacity = '1';
              card.style.border = '2px solid #007bff !important';
            } else {
              card.classList.remove('active-filter');
              card.style.transform = 'translateY(0)';
              card.style.boxShadow = 'none';
              card.style.opacity = '1';
              card.style.border = '';
            }
          }
        });
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
      function resetActiveCards() {
        const cards = ['analyzer-card', 'auxiliary-card', 'tests-card'];
        cards.forEach(cardId => {
          const card = document.getElementById(cardId);
          if (card) {
            card.classList.remove('active-filter');
            card.style.transform = 'translateY(0)';
            card.style.boxShadow = 'none';
            card.style.opacity = '1';
            card.style.border = '';
          }
        });
      }
    </script>

    <!-- Copy to clipboard function -->
    <script>
      function copyToClipboard(text) {
        navigator.clipboard
          .writeText(text)
          .then(function () {
            // Show success tooltip
            const tooltip = document.createElement('div');
            tooltip.className = 'alert alert-success position-fixed';
            tooltip.style.cssText =
              'top: 20px; right: 20px; z-index: 9999; animation: fadeInOut 2s forwards;';
            tooltip.innerHTML =
              '<i class="bi bi-check-circle"></i> –ö–æ–º–∞–Ω–¥–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!';
            document.body.appendChild(tooltip);

            setTimeout(() => {
              if (tooltip.parentNode) {
                tooltip.parentNode.removeChild(tooltip);
              }
            }, 2000);
          })
          .catch(function (err) {
            console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
            alert('–ö–æ–º–∞–Ω–¥–∞: ' + text);
          });
      }
    </script>

    <!-- CSS for fade animation -->
    <style>
      @keyframes fadeInOut {
        0% {
          opacity: 0;
          transform: translateX(100%);
        }
        20% {
          opacity: 1;
          transform: translateX(0);
        }
        80% {
          opacity: 1;
          transform: translateX(0);
        }
        100% {
          opacity: 0;
          transform: translateX(100%);
        }
      }
    </style>
  </body>
</html>
